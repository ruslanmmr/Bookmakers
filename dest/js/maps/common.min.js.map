{"version":3,"sources":["common.js"],"names":["$","document","ready","sliderOffers","headerSearch","signIn","tooltips","nav","scrolltop","navDropdowns","lazy","filter","window","cookies","resize","innerWidth","cookiesBlock","cookiesclose","setTimeout","fadeIn","event","preventDefault","fadeOut","buttonUp","check","scrollTop","scroll","click","animate","flag","buttonSearchOpen","buttonSearchClose","searchBlock","formBlock","on","e","is","target","addClass","hasClass","length","buttonSignIn","blockSignIn","containerSignIn","type","toggleClass","removeClass","bind","state","tooltip","closeButton","button","tooltipster","delay","trigger","side","interactive","contentCloning","navButton","overlay","scrollLock","hide","show","navState","dropdownButton","desktopDropdown","container","this","siblings","slideToggle","fadeToggle","console","log","Lazy","visibleOnly","threshold","effect","floating","floatingBlock","offset","top","topPos","height","pip","sliderHome","slider","slide","tooltipBlock","has","toolLink","parents","animation","autoplay","autoplaySpeed","dots","arrows","speed","touchThreshold","responsive","breakpoint","settings","slidesToShow","slidesToScroll","prevArrow","nextArrow"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\n  sliderOffers();\n  headerSearch();\n  signIn();\n  tooltips();\n  nav();\n  scrolltop();\n  navDropdowns();\n  lazy();\n  floating();\n  filter();\n});\nwindow.addEventListener('load',\n  function () {\n    cookies();\n  }, false);\n$(window).resize(function () {\n  innerWidth = $('body').innerWidth();\n  floating();\n});\n\n//global variables\nvar innerWidth = $('body').innerWidth();\n\n//cookies\nfunction cookies() {\n  var cookiesBlock = $('.cookies-message'),\n    cookiesclose = $('.cookies-message__button');\n  setTimeout(function () {\n    cookiesBlock.fadeIn(300);\n  }, 500)\n  cookiesclose.on('click', function (event) {\n    event.preventDefault();\n    cookiesBlock.fadeOut(300);\n  })\n}\n//scrolltop\nfunction scrolltop() {\n  var buttonUp = $('.up');\n\n  function check() {\n    if ($(window).scrollTop() > 100) {\n      buttonUp.fadeIn();\n    } else {\n      buttonUp.fadeOut();\n    }\n  }\n  check();\n  $(window).scroll(function () {\n    check();\n  });\n  buttonUp.click(function () {\n    $('body,html').animate({\n      scrollTop: 0\n    }, 800);\n  });\n}\n//header buttons\nfunction headerSearch() {\n  var buttonSearchOpen = $('.search-block__button'),\n    buttonSearchClose = $('.search-block__close'),\n    searchBlock = $('.search-block__container'),\n    formBlock = $('.search-block__form'),\n    flag;\n\n  $(document).on('click touchstart touchend', function (e) {\n    if (!flag) {\n      flag = true;\n      setTimeout(function () {\n        flag = false;\n      }, 300);\n      if (buttonSearchOpen.is(e.target)) {\n        searchBlock.addClass('search-block__container_visible').fadeIn(300);\n      } else if (searchBlock.hasClass('search-block__container_visible') && !formBlock.is(e.target) &&\n        formBlock.has(e.target).length === 0 || buttonSearchClose.is(e.target)) {\n        searchBlock.removeClass('search-block__container_visible').fadeOut(300);\n      }\n    }\n  });\n}\n\nfunction signIn() {\n  var buttonSignIn = $('.sign-in__button'),\n    blockSignIn = $('.sign-in'),\n    containerSignIn = $('.sign-in__container'),\n    flag;\n\n  buttonSignIn.on('click mouseenter', function (event) {\n    if (!flag) {\n      flag = true;\n      setTimeout(function () {\n        flag = false;\n      }, 300);\n      if (event.type == 'click') {\n        blockSignIn.toggleClass('sign-in_active');\n        state();\n      } else if (event.type == 'mouseenter') {\n        blockSignIn.addClass('sign-in_active');\n        state();\n      }\n    }\n    return false;\n  })\n\n  blockSignIn.on('mouseleave', function () {\n    blockSignIn.removeClass('sign-in_active');\n    state();\n  })\n\n  $(document).bind('touchstart touchend', function (e) {\n    if (blockSignIn.hasClass('sign-in_active') && !blockSignIn.is(e.target) &&\n      blockSignIn.has(e.target).length === 0) {\n      blockSignIn.removeClass('sign-in_active');\n      state();\n    }\n  });\n\n  function state() {\n    if (blockSignIn.hasClass('sign-in_active')) {\n      containerSignIn.fadeIn(300);\n    } else {\n      containerSignIn.fadeOut(300);\n    }\n  }\n}\n//tooltips\nfunction tooltips() {\n  var tooltip = $('.tooltip'),\n    closeButton = $('.tooltip-block__close'),\n    button = $('.tooltip');\n\n  closeButton.click(function (event) {\n    event.preventDefault();\n    tooltip.tooltipster('close');\n  });\n  button.on('click', function (e) {\n    e.preventDefault();\n  })\n\n  tooltip.tooltipster({\n    animation: 'fade',\n    delay: 200,\n    trigger: 'click',\n    side: ['right', 'left', 'bottom', 'top'],\n    interactive: true,\n    contentCloning: true\n  });\n}\n//nav\nfunction nav() {\n  var navButton = $('.mobile-button, .mobile-nav__close'),\n    nav = $('.mobile-nav'),\n    overlay = $('.overlay');\n\n  navButton.click(function (event) {\n    event.preventDefault();\n    nav.toggleClass('mobile-nav_active');\n    navState();\n  })\n\n  function navState() {\n    if (nav.hasClass('mobile-nav_active')) {\n      overlay.fadeIn(300);\n      scrollLock.hide($(\"body\"));\n      $('body').addClass('body_hidden').addClass('body_active')\n    } else {\n      overlay.fadeOut(300);\n      scrollLock.show($(\"body\"));\n      $('body').removeClass('body_hidden').removeClass('body_active');\n    }\n  }\n  $(window).resize(function () {\n    if (innerWidth > 992) {\n      nav.removeClass('mobile-nav_active');\n      navState();\n    }\n  });\n  overlay.on('click', function () {\n    if (nav.hasClass('mobile-nav_active')) {\n      nav.removeClass('mobile-nav_active');\n      navState();\n    }\n  })\n}\n//nav-dropdowns\nfunction navDropdowns() {\n  var dropdownButton = $('.nav__link_dropdown'),\n    desktopDropdown = $('.header .nav__dropdown'),\n    container = $('.header .nav__item'),\n    flag;\n\n  dropdownButton.on('click mouseenter', function (event) {\n    if (!flag) {\n      flag = true;\n      setTimeout(function () {\n        flag = false;\n      }, 300);\n      if (event.type == 'click') {\n        $(this).toggleClass('nav__link_active');\n        $(this).siblings('.nav__dropdown').toggleClass('nav__dropdown_active');\n        if ($(this).hasClass('nav__link_mobile')) {\n          $(this).siblings('.nav__dropdown').slideToggle(300);\n        } else {\n          $(this).siblings('.nav__dropdown').fadeToggle(300);\n        }\n      } else if (event.type == 'mouseenter') {\n        console.log('2');\n        $(this).addClass('nav__link_active');\n        $(this).siblings('.nav__dropdown').addClass('nav__dropdown_active');\n        $(this).siblings('.nav__dropdown').fadeIn(300);\n      }\n    }\n    return false\n  })\n\n  container.on('mouseleave', function () {\n    dropdownButton.removeClass('nav__link_active');\n    desktopDropdown.fadeOut(300).removeClass('nav__dropdown_active');\n  })\n}\n\n//lazy\nfunction lazy() {\n  $(\".lazy\").Lazy({\n    visibleOnly: true,\n    threshold: '',\n    effect: 'fadeIn',\n    effectTime: '300'\n  });\n}\n//плавающие блоки\nfunction floating() {\n  var floatingBlock = $('.floating-block');\n  if ($('*').is(floatingBlock)) {\n    var topPos = floatingBlock.offset().top - 15;\n    $(window).scroll(function () {\n      if (innerWidth > 992) {\n        var top = $(document).scrollTop(),\n          pip = $('.join').offset().top,\n          height = floatingBlock.height();\n        if (top > topPos && top < (pip - 30) - height) {\n          floatingBlock.removeClass('floating-block_bottom');\n          floatingBlock.addClass('floating-block_fixed').fadeIn();\n        } else if (top > (pip - 30) - height) {\n          floatingBlock.addClass('floating-block_bottom');\n        } else {\n          floatingBlock.removeClass('floating-block_fixed');\n          floatingBlock.removeClass('floating-block_bottom');\n        }\n      } else {\n        floatingBlock.removeClass('floating-block_fixed').fadeIn();\n        floatingBlock.removeClass('floating-block_bottom');\n      }\n    });\n  }\n}\n\n//offers-slider\nfunction sliderOffers() {\n  var sliderHome = $('.home .hot-offers-slider__container'),\n      slider = $('.hot-offers-slider__container'),\n      slide = $('.hot-offers-slide'),\n      closeButton = $('.tooltip-block__close'),\n      tooltip = $('.tooltip_offers'),\n      tooltipBlock = $('.tooltip-block'),\n      toolLink = $('.hot-offers-slide__link');\n\n      $(document).on('click', function (e) { \n        if (!slide.is(e.target) && !tooltipBlock.is(e.target) && slide.has(e.target).length === 0 && tooltipBlock.has(e.target).length === 0) { \n          slide.removeClass('hot-offers-slide_active');\n          slide.removeClass('hot-offers-slide_tooltipsed');\n        }\n      });\n      \n      slide.on('click', function(e){\n        slide.removeClass('hot-offers-slide_active');\n        $(this).addClass('hot-offers-slide_active');\n        if(!toolLink.is(e.target)) {\n          slide.removeClass('hot-offers-slide_tooltipsed');\n          $(this).addClass('hot-offers-slide_active');\n        }\n      });\n\n      slide.on('mouseenter', function(){\n        $(this).addClass('hot-offers-slide_active');\n      });\n  \n      slide.on('mouseleave', function(){\n        if($(this).hasClass('hot-offers-slide_tooltipsed')) {}\n        else {\n          $(this).removeClass('hot-offers-slide_active');\n        }\n      });\n  toolLink.on('click', function(){\n    slide.removeClass('hot-offers-slide_tooltipsed');\n    $(this).parents('.hot-offers-slide').addClass('hot-offers-slide_tooltipsed');\n  })\n\n  closeButton.click(function(event) {\n    event.preventDefault();\n    tooltip.tooltipster('close');\n  });\n\n  $('body').on('click', '.tooltip_offers:not(.tooltipstered)', function(){\n    $(this)\n        .tooltipster({\n          animation: 'fade',\n          delay: 200,\n          trigger: 'click',\n          side:  ['right', 'top'],\n          interactive: true,\n          contentCloning: true\n        })\n        .tooltipster('open');\n  });\n  slider.on('beforeChange', function(){\n    tooltip.tooltipster('close');\n  });\n  slider.on('swipe', function(){\n    tooltip.tooltipster('close');\n  });\n  //Если на главной и присутствует слайдер первого типа - запускаем его. Если нет - мы не на главной и запускаем слайдер второго типа.\n  if($(\"*\").is(sliderHome)) {\n    sliderHome.slick({\n      slidesToShow: 4,\n      slidesToScroll: 4,\n      autoplay: true,\n      autoplaySpeed: 3000,\n      dots: false,\n      arrows: false,\n      speed: 800,\n      touchThreshold: 10,\n      responsive: [\n        {\n          breakpoint: 1200,\n          settings: {\n            slidesToShow: 3,\n            slidesToScroll: 3\n          }\n        },\n        {\n          breakpoint: 992,\n          settings: {\n            slidesToShow: 2,\n            slidesToScroll: 2\n          }\n        },\n        {\n          breakpoint: 480,\n          settings: {\n            slidesToShow: 1,\n            slidesToScroll: 1\n          }\n        }\n      ]\n    });\n  } else {\n    slider.slick({\n      slidesToShow: 5,\n      slidesToScroll: 5,\n      autoplay: true,\n      autoplaySpeed: 3000,\n      dots: false,\n      arrows: true,\n      speed: 800,\n      touchThreshold: 10,\n      prevArrow: ('.hot-offers-slider__button_prev'),\n      nextArrow: ('.hot-offers-slider__button_next'),\n      responsive: [\n        {\n          breakpoint: 1200,\n          settings: {\n            slidesToShow: 4,\n            slidesToScroll: 4\n          }\n        },\n        {\n          breakpoint: 992,\n          settings: {\n            slidesToShow: 3,\n            slidesToScroll: 3\n          }\n        },\n        {\n          breakpoint: 768,\n          settings: {\n            slidesToShow: 2,\n            slidesToScroll: 2\n          }\n        }\n        ,\n        {\n          breakpoint: 576,\n          settings: {\n            slidesToShow: 1,\n            slidesToScroll: 1\n          }\n        }\n      ]\n    });\n  }\n}"]}