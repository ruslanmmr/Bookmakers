{"version":3,"sources":["common.js"],"names":["$","document","ready","headerSearch","signIn","tooltips","nav","scrolltop","navDropdowns","floating","window","cookies","resize","innerWidth","cookiesBlock","cookiesclose","setTimeout","fadeIn","event","preventDefault","fadeOut","buttonUp","check","scrollTop","scroll","click","animate","flag","buttonSearchOpen","buttonSearchClose","searchBlock","formBlock","on","e","is","target","addClass","hasClass","length","buttonSignIn","blockSignIn","containerSignIn","type","toggleClass","removeClass","bind","state","tooltip","closeButton","button","tooltipster","delay","trigger","side","interactive","contentCloning","navButton","overlay","scrollLock","hide","show","navState","dropdownButton","desktopDropdown","container","this","siblings","slideToggle","fadeToggle","console","log","lazy","Lazy","visibleOnly","threshold","effect","floatingBlock","offset","top","topPos","height","pip"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\n  headerSearch();\n  signIn();\n  tooltips();\n  nav();\n  scrolltop();\n  navDropdowns();\n  lazy();\n  floating();\n});\nwindow.addEventListener('load',\n  function () {\n    cookies();\n  }, false);\n$(window).resize(function () {\n  innerWidth = $('body').innerWidth();\n  floating();\n});\n\n//global variables\nvar innerWidth = $('body').innerWidth();\n\n//cookies\nfunction cookies() {\n  var cookiesBlock = $('.cookies-message'),\n    cookiesclose = $('.cookies-message__button');\n  setTimeout(function () {\n    cookiesBlock.fadeIn(300);\n  }, 500)\n  cookiesclose.on('click', function (event) {\n    event.preventDefault();\n    cookiesBlock.fadeOut(300);\n  })\n}\n//scrolltop\nfunction scrolltop() {\n  var buttonUp = $('.up');\n\n  function check() {\n    if ($(window).scrollTop() > 100) {\n      buttonUp.fadeIn();\n    } else {\n      buttonUp.fadeOut();\n    }\n  }\n  check();\n  $(window).scroll(function () {\n    check();\n  });\n  buttonUp.click(function () {\n    $('body,html').animate({\n      scrollTop: 0\n    }, 800);\n  });\n}\n//header buttons\nfunction headerSearch() {\n  var buttonSearchOpen = $('.search-block__button'),\n    buttonSearchClose = $('.search-block__close'),\n    searchBlock = $('.search-block__container'),\n    formBlock = $('.search-block__form'),\n    flag;\n\n  $(document).on('click touchstart touchend', function (e) {\n    if (!flag) {\n      flag = true;\n      setTimeout(function () {\n        flag = false;\n      }, 300);\n      if (buttonSearchOpen.is(e.target)) {\n        searchBlock.addClass('search-block__container_visible').fadeIn(300);\n      } else if (searchBlock.hasClass('search-block__container_visible') && !formBlock.is(e.target) &&\n        formBlock.has(e.target).length === 0 || buttonSearchClose.is(e.target)) {\n        searchBlock.removeClass('search-block__container_visible').fadeOut(300);\n      }\n    }\n  });\n}\n\nfunction signIn() {\n  var buttonSignIn = $('.sign-in__button'),\n    blockSignIn = $('.sign-in'),\n    containerSignIn = $('.sign-in__container'),\n    flag;\n\n  buttonSignIn.on('click mouseenter', function (event) {\n    if (!flag) {\n      flag = true;\n      setTimeout(function () {\n        flag = false;\n      }, 300);\n      if (event.type == 'click') {\n        blockSignIn.toggleClass('sign-in_active');\n        state();\n      } else if (event.type == 'mouseenter') {\n        blockSignIn.addClass('sign-in_active');\n        state();\n      }\n    }\n    return false;\n  })\n\n  blockSignIn.on('mouseleave', function () {\n    blockSignIn.removeClass('sign-in_active');\n    state();\n  })\n\n  $(document).bind('touchstart touchend', function (e) {\n    if (blockSignIn.hasClass('sign-in_active') && !blockSignIn.is(e.target) &&\n      blockSignIn.has(e.target).length === 0) {\n      blockSignIn.removeClass('sign-in_active');\n      state();\n    }\n  });\n\n  function state() {\n    if (blockSignIn.hasClass('sign-in_active')) {\n      containerSignIn.fadeIn(300);\n    } else {\n      containerSignIn.fadeOut(300);\n    }\n  }\n}\n//tooltips\nfunction tooltips() {\n  var tooltip = $('.tooltip'),\n    closeButton = $('.tooltip-block__close'),\n    button = $('.tooltip');\n\n  closeButton.click(function (event) {\n    event.preventDefault();\n    tooltip.tooltipster('close');\n  });\n  button.on('click', function (e) {\n    e.preventDefault();\n  })\n\n  tooltip.tooltipster({\n    animation: 'fade',\n    delay: 200,\n    trigger: 'click',\n    side: ['right', 'left', 'bottom', 'top'],\n    interactive: true,\n    contentCloning: true\n  });\n}\n//nav\nfunction nav() {\n  var navButton = $('.mobile-button, .mobile-nav__close'),\n    nav = $('.mobile-nav'),\n    overlay = $('.overlay');\n\n  navButton.click(function (event) {\n    event.preventDefault();\n    nav.toggleClass('mobile-nav_active');\n    navState();\n  })\n\n  function navState() {\n    if (nav.hasClass('mobile-nav_active')) {\n      overlay.fadeIn(300);\n      scrollLock.hide($(\"body\"));\n      $('body').addClass('body_hidden').addClass('body_active')\n    } else {\n      overlay.fadeOut(300);\n      scrollLock.show($(\"body\"));\n      $('body').removeClass('body_hidden').removeClass('body_active');\n    }\n  }\n  $(window).resize(function () {\n    if (innerWidth > 992) {\n      nav.removeClass('mobile-nav_active');\n      navState();\n    }\n  });\n  overlay.on('click', function () {\n    if (nav.hasClass('mobile-nav_active')) {\n      nav.removeClass('mobile-nav_active');\n      navState();\n    }\n  })\n}\n//nav-dropdowns\nfunction navDropdowns() {\n  var dropdownButton = $('.nav__link_dropdown'),\n    desktopDropdown = $('.header .nav__dropdown'),\n    container = $('.header .nav__item'),\n    flag;\n\n  dropdownButton.on('click mouseenter', function (event) {\n    if (!flag) {\n      flag = true;\n      setTimeout(function () {\n        flag = false;\n      }, 300);\n      if (event.type == 'click') {\n        $(this).toggleClass('nav__link_active');\n        $(this).siblings('.nav__dropdown').toggleClass('nav__dropdown_active');\n        if ($(this).hasClass('nav__link_mobile')) {\n          $(this).siblings('.nav__dropdown').slideToggle(300);\n        } else {\n          $(this).siblings('.nav__dropdown').fadeToggle(300);\n        }\n      } else if (event.type == 'mouseenter') {\n        console.log('2');\n        $(this).addClass('nav__link_active');\n        $(this).siblings('.nav__dropdown').addClass('nav__dropdown_active');\n        $(this).siblings('.nav__dropdown').fadeIn(300);\n      }\n    }\n    return false\n  })\n\n  container.on('mouseleave', function () {\n    dropdownButton.removeClass('nav__link_active');\n    desktopDropdown.fadeOut(300).removeClass('nav__dropdown_active');\n  })\n}\n\n//lazy\nfunction lazy() {\n  $(\".lazy\").Lazy({\n    visibleOnly: true,\n    threshold: '',\n    effect: 'fadeIn',\n    effectTime: '300'\n  });\n}\n//плавающие блоки\nfunction floating() {\n  var floatingBlock = $('.floating-block');\n  if ($('*').is(floatingBlock)) {\n    var topPos = floatingBlock.offset().top - 15;\n    $(window).scroll(function () {\n      if (innerWidth > 992) {\n        var top = $(document).scrollTop(),\n          pip = $('.join').offset().top,\n          height = floatingBlock.height();\n        if (top > topPos && top < (pip - 30) - height) {\n          floatingBlock.removeClass('floating-block_bottom');\n          floatingBlock.addClass('floating-block_fixed').fadeIn();\n        } else if (top > (pip - 30) - height) {\n          floatingBlock.addClass('floating-block_bottom');\n        } else {\n          floatingBlock.removeClass('floating-block_fixed');\n          floatingBlock.removeClass('floating-block_bottom');\n        }\n      } else {\n        floatingBlock.removeClass('floating-block_fixed').fadeIn();\n        floatingBlock.removeClass('floating-block_bottom');\n      }\n    });\n  }\n}"]}