{"version":3,"sources":["bookmaker.js"],"names":["scaleBlock","val1","scale","$","val2","this","attr","each","toFixed","concat","parseFloat","append","Scroll","click","event","id","scrollLink","offset","top","preventDefault","scrollTop","rate","rating","star","length","starsCount","ratingValue","ratingInput","valueInd","cStars","nowPos","removeClass","i","eq","toggleClass","text","on","index","val","starsCountLatest","ratingValueLatest","document","ready"],"mappings":"aAOA,SAASA,aAAT,IACEC,EAAIC,EAAQC,EADLH,EAAAA,0BAEDI,KADN,WAAAH,EAAAE,EAAAE,MAAAC,KAAA,YAGAJ,EAAMK,WAAKN,GAAWO,QAAA,GACpBP,EAAI,eAAAQ,OAAgB,IAAAL,EAAhB,MACJA,EAAAA,MAAOM,IAAAA,YAAiBF,GAAjBG,OAAP,SAAAP,EAAA,aAIH,SACDQ,SAEmBT,EAAE,gBACRU,MAAM,SAAUC,GAF7B,IAAAC,EAASH,EAATP,MAAkBC,KAAA,QACZU,EAAAA,EAAAA,GAAUC,SAAKC,IAAA,GAEjBJ,EAAMK,iBAGNL,EAAAA,aAAMK,QAAN,CAEEC,UAADF,GACCE,OAMN,SAASC,OAAT,IAIMC,EAJNC,EAAApB,EAAA,yCACMoB,EAASpB,EAAA,iCAADqB,OACRC,EAAetB,EAAA,iCADnBqB,OAIIE,EAJJvB,EAAA,gCAKIwB,EAAWxB,EAAA,gCACXyB,EAAa,MAGbC,EAAS,SAASC,GAAtBP,EAAIM,YAAS,gCACXN,IAAKQ,IAAAA,EAAAA,EAAYC,EAAjBF,EAAiB,EAAAE,IAEfT,EAAKU,GAAGD,GAAGE,YAAY,gCADzBT,EAAAtB,EAAgB2B,iCAAqBN,OAEnCC,EAAcf,WADd,GAAAe,GACejB,QAAA,GACfc,EAASG,KAAAA,GACKf,EAAdgB,GACAE,EAASO,SAAKT,uCAKjBH,EAEDa,GAAA,aAAA,WAEEP,EAAO1B,EAAEE,MAAMgC,WAChBd,EAEDV,MAAA,WAEEgB,EAAO1B,EAAEE,MAAMgC,SADjBd,EAAWe,IAAAZ,GAETC,EAAgBD,EAChBA,EAAWA,IAGZH,EANDa,GAAA,aAAA,WAQAb,GAAQgB,EAAc,GACpBV,EAAQU,KAAAA,GACRX,GAAcY,GAEZZ,EAASG,YAAY,wCA5E3B5B,EAAEsC,UAAUC,MAAM,WAChB1C,aADAyC,SACAzC","file":"../bookmaker.min.js","sourcesContent":["$(document).ready(function () {\r\n  scaleBlock();\r\n  Scroll();\r\n  rate();\r\n});\r\n\r\n//шкала\r\nfunction scaleBlock() {\r\n  var scale = $('.col-percentage__scale'),\r\n  val1, val2, val3;\r\n  \r\n  scale.each(function() {\r\n    val1 = $(this).attr('data-val');\r\n    val2 = parseFloat(val1).toFixed(1);\r\n    val3 = `translateX(-${100 - val2}%)`;\r\n    $(this).css('transform', val3).append('<span>' + val2 + '</span>');\r\n  })\r\n}\r\n//якорные ссылки\r\nfunction Scroll() {\r\n  var scrollLink = $('.scroll-link');\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top - 10;\r\n\r\n    event.preventDefault();\r\n\r\n    $('body,html').animate({\r\n      scrollTop: top\r\n    }, 400);\r\n\r\n  })\r\n}\r\n//rate\r\nfunction rate() {\r\n  var star = $('.feedback-form .feedback__rating-item'),\r\n      starsCount = $('.feedback__rating-item_active').length,\r\n      starsCountLatest = $('.feedback__rating-item_active').length,\r\n      rating,\r\n      ratingValue,\r\n      ratingInput = $('.feedback-form-rating__input'),\r\n      valueInd = $('.feedback-form-rating__value'),\r\n      ratingValueLatest = '0.0';\r\n  \r\n  var cStars = function(nowPos) {\r\n    star.removeClass('feedback__rating-item_active');\r\n    for (var i = 0; nowPos + 1 > i; i++) {\r\n      star.eq(i).toggleClass('feedback__rating-item_active');\r\n      starsCount = $('.feedback__rating-item_active').length;\r\n      rating = starsCount * 0.5;\r\n      ratingValue = parseFloat(rating).toFixed(1);\r\n      valueInd.text(ratingValue);\r\n      if(ratingValue > 0) {\r\n        valueInd.addClass('feedback-form-rating__value_active')\r\n      }\r\n    }\r\n  }\r\n  \r\n  // При наведении\r\n  star.on('mouseenter', function() {\r\n    cStars($(this).index());\r\n  });\r\n  \r\n  // При клике\r\n  star.click(function() {\r\n    cStars($(this).index());\r\n    ratingInput.val(ratingValue);\r\n    ratingValue\r\n    starsCountLatest = starsCount;\r\n    ratingValueLatest = ratingValue;\r\n  });\r\n\r\n  star.on('mouseleave', function() {\r\n    cStars(+starsCountLatest - 1);\r\n    valueInd.text(ratingValueLatest);\r\n    if(ratingValueLatest <= 0) {\r\n      valueInd.removeClass('feedback-form-rating__value_active');\r\n    }\r\n  });\r\n\r\n}"]}