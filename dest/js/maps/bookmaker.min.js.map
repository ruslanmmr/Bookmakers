{"version":3,"sources":["bookmaker.js"],"names":["scaleBlock","val1","scale","$","val2","this","attr","each","toFixed","concat","parseFloat","append","Scroll","click","event","id","scrollLink","offset","top","preventDefault","scrollTop","rate","rating","star","length","starsCount","ratingValue","ratingInput","valueInd","ratingValueLatest","nowPos","removeClass","cStars","i","toggleClass","addClass","on","index","val","starsCountLatest","text","qa","button","dropdown","parents","hasClass","find","slideDown","slideUp","document","ready"],"mappings":"aAQA,SAASA,aAAT,IACEC,EAAIC,EAAQC,EADLH,EAAAA,0BAEDI,KADN,WAAAH,EAAAE,EAAAE,MAAAC,KAAA,YAGAJ,EAAMK,WAAKN,GAAWO,QAAA,GACpBP,EAAI,eAAAQ,OAAgB,IAAAL,EAAhB,MACJA,EAAAA,MAAOM,IAAAA,YAAiBF,GAAjBG,OAAP,SAAAP,EAAA,aAIH,SACDQ,SAEmBT,EAAE,gBACRU,MAAM,SAAUC,GAF7B,IAAAC,EAASH,EAATP,MAAkBC,KAAA,QACZU,EAAAA,EAAAA,GAAUC,SAAKC,IAAA,GAEjBJ,EAAMK,iBAGNL,EAAAA,aAAMK,QAAN,CAEEC,UAADF,GACCE,OAMN,SAASC,OAAT,IAIMC,EAJNC,EAAApB,EAAA,yCACMoB,EAASpB,EAAA,gDAAbqB,OACIC,EAAetB,EAAA,gDADnBqB,OAIIE,EAJJvB,EAAA,gCAKIwB,EAAWxB,EAAA,gCACXyB,EAAa,MACbC,EAAAA,SAAiBC,GAEnBP,EAAKQ,YAAY,gCADnB,IAAIC,IAAMC,EAAG,EAASH,EAATA,EAATE,EAAkBF,IACpBP,EAAKQ,GAAAA,GAAAA,YAAY,gCAGfN,EAAatB,EAAE,gDAAgDqB,OAD/DD,EAAWW,WADS,GAAZT,GACejB,QAAA,GACvBiB,EAAAA,KAAcC,GACLD,EAATH,GACAI,EAAWS,SAAGzB,uCAKfa,EAAAa,GAAA,aAAA,WApBWJ,EAuBd7B,EAAAE,MAAAgC,WAEEL,EAAAA,MAAS,WADXA,EAIA7B,EAAAE,MAAAgC,SAGEV,EAAYW,IAAIZ,GADhBM,EAAeK,EACfV,EAAgBD,IAGhBG,EAAAA,GAAAA,aAAoBH,WALtBM,GAAAO,EAAA,GAQAhB,EAAQiB,KAAAX,GACNG,GAAO,GACPJ,EAASY,YAAKX,wCASlB,SAASY,KACP,IAAIC,EAASvC,EAAE,oBADHA,EAAA,uBACZuC,EACIC,GAAAA,QAAa,WAEjBD,EAAAA,MAAUE,QAAV,aAA8BV,YAAA,mBAK9B/B,EAAA,aAAiBI,KAAA,WACbJ,EAAAE,MAADwC,SAAmB,mBAClB1C,EAAGA,MAAC2C,KAAOD,uBAARE,UAAqC,KAAxC5C,EAAAE,MAEOyC,KAAA,uBAAAE,QAAA,SAhGb7C,EAAE8C,UAAUC,MAAM,WAChBlD,aADAiD,SACAjD,OACAY","file":"../bookmaker.min.js","sourcesContent":["$(document).ready(function () {\r\n  scaleBlock();\r\n  Scroll();\r\n  rate();\r\n  qa();\r\n});\r\n\r\n//шкала\r\nfunction scaleBlock() {\r\n  var scale = $('.col-percentage__scale'),\r\n  val1, val2, val3;\r\n  \r\n  scale.each(function() {\r\n    val1 = $(this).attr('data-val');\r\n    val2 = parseFloat(val1).toFixed(1);\r\n    val3 = `translateX(-${100 - val2}%)`;\r\n    $(this).css('transform', val3).append('<span>' + val2 + '</span>');\r\n  })\r\n}\r\n//якорные ссылки\r\nfunction Scroll() {\r\n  var scrollLink = $('.scroll-link');\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top - 10;\r\n\r\n    event.preventDefault();\r\n\r\n    $('body,html').animate({\r\n      scrollTop: top\r\n    }, 400);\r\n\r\n  })\r\n}\r\n//rate\r\nfunction rate() {\r\n  var star = $('.feedback-form .feedback__rating-item'),\r\n      starsCount = $('.feedback-form .feedback__rating-item_active').length,\r\n      starsCountLatest = $('.feedback-form .feedback__rating-item_active').length,\r\n      rating,\r\n      ratingValue,\r\n      ratingInput = $('.feedback-form-rating__input'),\r\n      valueInd = $('.feedback-form-rating__value'),\r\n      ratingValueLatest = '0.0';\r\n  var cStars = function(nowPos) {\r\n    star.removeClass('feedback__rating-item_active');\r\n    for (var i = 0; nowPos + 1 > i; i++) {\r\n      star.eq(i).toggleClass('feedback__rating-item_active');\r\n      starsCount = $('.feedback-form .feedback__rating-item_active').length;\r\n      rating = starsCount * 0.5;\r\n      ratingValue = parseFloat(rating).toFixed(1);\r\n      valueInd.text(ratingValue);\r\n      if(ratingValue > 0) {\r\n        valueInd.addClass('feedback-form-rating__value_active')\r\n      }\r\n    }\r\n  }\r\n  \r\n  // При наведении\r\n  star.on('mouseenter', function() {\r\n    cStars($(this).index());\r\n  });\r\n  \r\n  // При клике\r\n  star.click(function() {\r\n    cStars($(this).index());\r\n    ratingInput.val(ratingValue);\r\n    ratingValue\r\n    starsCountLatest = starsCount;\r\n    ratingValueLatest = ratingValue;\r\n  });\r\n\r\n  star.on('mouseleave', function() {\r\n    cStars(+starsCountLatest - 1);\r\n    valueInd.text(ratingValueLatest);\r\n    if(ratingValueLatest <= 0) {\r\n      valueInd.removeClass('feedback-form-rating__value_active');\r\n    }\r\n  });\r\n\r\n}\r\n\r\n//questions\r\nfunction qa() {\r\n  var button = $('.qa-block__title'),\r\n      dropdown = $('.qa-block__dropdown');\r\n\r\n  button.on('click', function() {\r\n    $(this).parents('.qa-block').toggleClass('qa-block_active');\r\n    state();\r\n  })\r\n\r\n  function state() {\r\n    $('.qa-block').each(function() {\r\n      if($(this).hasClass('qa-block_active')) {\r\n        $(this).find('.qa-block__dropdown').slideDown(300);\r\n      } else {\r\n        $(this).find('.qa-block__dropdown').slideUp(300);\r\n      }\r\n    })\r\n  }\r\n}"]}